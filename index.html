<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mochkil & Azul Research Lab</title>
<style>
body {
    margin: 0;
    font-family: 'Courier New', monospace;
    background: #0b0b0f;
    color: #fff;
    display: flex;
    flex-direction: column;
    height: 100vh;
}
header {
    background: #111;
    padding: 10px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid #ff00ff;
}
header h1 {
    font-size: 1.2rem;
    color: #ff00ff;
}
header select {
    padding: 5px 10px;
    font-size: 0.9rem;
    background: #222;
    color: #fff;
    border: 1px solid #ff00ff;
    border-radius: 5px;
}
#console {
    flex: 1;
    padding: 15px;
    overflow-y: auto;
    background: #111;
}
.message {
    margin-bottom: 12px;
    padding: 8px 12px;
    border-radius: 8px;
    max-width: 80%;
    animation: fadeIn 0.3s ease-out;
}
.mochkil { background: #333; color: #ffb347; align-self: flex-start; }
.azul { background: #222244; color: #7fdbff; align-self: flex-start; }
.user { background: #555; color: #fff; align-self: flex-end; }
input[type=text] {
    width: calc(100% - 100px);
    padding: 10px;
    font-size: 1rem;
    border-radius: 5px;
    border: none;
    margin: 10px;
}
button {
    padding: 10px 15px;
    font-size: 1rem;
    margin-right: 10px;
    border-radius: 5px;
    border: none;
    background: #ff00ff;
    color: #fff;
    cursor: pointer;
}
button:hover { background: #ff77ff; }
@keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
</style>
</head>
<body>

<header>
    <h1>Mochkil & Azul Research Lab</h1>
    <select id="botSelector">
        <option value="mochkil">Mochkil</option>
        <option value="azul">Azul</option>
    </select>
</header>

<div id="console"></div>

<div style="display:flex; padding:10px; background:#111; border-top:2px solid #ff00ff;">
    <input type="text" id="userInput" placeholder="Ask a question...">
    <button onclick="askQuestion()">Ask</button>
    <button onclick="clearConsole()">Clear</button>
</div>

<script>
const consoleEl = document.getElementById('console');
const botSelector = document.getElementById('botSelector');
const userInput = document.getElementById('userInput');

// --- Display message ---
function displayMessage(text, type) {
    const div = document.createElement('div');
    div.className = 'message ' + type;
    div.innerHTML = text;
    consoleEl.appendChild(div);
    consoleEl.scrollTop = consoleEl.scrollHeight;
}

// --- Clear console ---
function clearConsole() {
    consoleEl.innerHTML = '';
}

// --- Fetch answer from Wikipedia ---
async function fetchWikipedia(query) {
    const api = `https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(query)}`;
    try {
        const response = await fetch(api);
        if(!response.ok) throw new Error('Not found');
        const data = await response.json();
        return data.extract || "Sorry, no summary available.";
    } catch(e) {
        return "I couldn't find that on Wikipedia.";
    }
}

// --- Fetch random NASA image & info ---
async function fetchNASA() {
    const api = 'https://images-api.nasa.gov/search?q=space&media_type=image';
    try {
        const response = await fetch(api);
        const data = await response.json();
        const items = data.collection.items;
        if(items.length === 0) return "No NASA images found.";
        const random = items[Math.floor(Math.random() * items.length)];
        const title = random.data[0].title;
        const img = random.links[0].href;
        return `ðŸš€ <b>${title}</b><br><img src="${img}" style="max-width:300px; margin-top:5px;">`;
    } catch(e) {
        return "NASA API error.";
    }
}

// --- Ask question ---
async function askQuestion() {
    const question = userInput.value.trim();
    if(!question) return;
    displayMessage(question, 'user');
    userInput.value = '';
    
    const bot = botSelector.value;
    displayMessage('Thinking...', bot);
    
    let answer = '';
    if(bot === 'mochkil') {
        // Mochkil gives Wikipedia-based answer
        answer = await fetchWikipedia(question);
    } else if(bot === 'azul') {
        // Azul gives NASA fun fact for space related or Wikipedia otherwise
        if(question.toLowerCase().includes('space') || question.toLowerCase().includes('planet') || question.toLowerCase().includes('moon')) {
            answer = await fetchNASA();
        } else {
            answer = await fetchWikipedia(question);
        }
    }
    displayMessage(answer, bot);
}
</script>

</body>
</html>
